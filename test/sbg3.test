N = 100000000
N1 = 50000000
N2 = N-1
N3 = N+N1
N4 = 2*N+1
N5 = 2*N
N6 = 3*N
N7 = N6 + N1
N8 = N5 + 1
N9 = N1 + N6
N10 = N2 + N5
N11 = N1 + 1 + N
N12 = N + 1

Vml = N1+N+1
Eml = Vml-1

  V %= {[Vml:1:Vml], [2*N:1:2*N], [N4:1:Vml+N2], [Vml+N2+2:1:4*N-1]};
  Vmap %= <<{[N4:1:N5+N1], [Vml:1:Vml], [N5+N1+2:1:3*N]} -> 0*x+1, {[2*N:1:2*N], [3*N+1:1:4*N-1]} -> 0*x+2>>; 
  mapB %= <<{[1:1:1]} -> 0*x+N4, {[2:1:N1]} -> 1*x+N5, {[N1+1:1:N1+1]} -> 0*x+N7, {[N1+2:1:N]} -> 1*x+N5, {[N+1:1:2*N-2]} -> 1*x+N8
            , {[2*N-1:1:2*N-1]} -> 0*x+N5>>;
  mapD %= <<{[1:1:1]} -> 0*x+N9, {[2:1:N1]} -> 1*x+N10, {[N1+1:1:N1+1]} -> 0*x+N11, {[N1+2:1:N]} -> 1*x+N10, {[N+1:1:Eml-1]} -> 1*x+N12 
            , {[Eml:1:Eml]} -> 1*x+1, {[Eml+1:1:2*N-2]} -> 1*x+N12, {[2*N-1:1:2*N-1]} -> 0*x+N6>>;
  Emap %= <<{[1:1:1]} -> 0*x+1, {[2:1:N]} -> 0*x+2, {[N+1:1:2*N-1]} -> 0*x+3>>;

minReach(
  V %= {[Vml:1:Vml], [2*N:1:2*N], [N4:1:Vml+N2], [Vml+N2+2:1:4*N-1]};
  Vmap %= <<{[N4:1:N5+N1], [Vml:1:Vml], [N5+N1+2:1:3*N]} -> 0*x+1, {[2*N:1:2*N], [3*N+1:1:4*N-1]} -> 0*x+2>>; 
  mapB %= <<{[1:1:1]} -> 0*x+N4, {[2:1:N1]} -> 1*x+N5, {[N1+1:1:N1+1]} -> 0*x+N7, {[N1+2:1:N]} -> 1*x+N5, {[N+1:1:2*N-2]} -> 1*x+N8
            , {[2*N-1:1:2*N-1]} -> 0*x+N5>>;
  mapD %= <<{[1:1:1]} -> 0*x+N9, {[2:1:N1]} -> 1*x+N10, {[N1+1:1:N1+1]} -> 0*x+N11, {[N1+2:1:N]} -> 1*x+N10, {[N+1:1:Eml-1]} -> 1*x+N12 
            , {[Eml:1:Eml]} -> 1*x+1, {[Eml+1:1:2*N-2]} -> 1*x+N12, {[2*N-1:1:2*N-1]} -> 0*x+N6>>;
  Emap %= <<{[1:1:1]} -> 0*x+1, {[2:1:N]} -> 0*x+2, {[N+1:1:2*N-1]} -> 0*x+3>>;
)
