// SCC of Test2 from the paper

N = 100

F1x = N-2
F2a = N-2+F1x
F3b = N-2+F2a
F4b = 1+F3b
F5b = 1+F4b
F6x = 1+F5b
F7x = 1+F6x
F8a = 1+F7x
F9a = 1+F8a

E1 = N-2 // F1x - F2a
E2 = N-3+E1 // F2a - F2a
E3 = N-2+E2 // F2a - F3b
E4 = 1+E3 // F2a - F9a
E5 = 1+E4 // F6x - F8a
E6 = 1+E5 // F7x  F9a
E7 = 1+E6 // F8a - F2a
E8 = 1+E7 // F8a - F4b

off1d = r(F2a, 1)-r(E1, 1)
off2d = r(F2a, 1)-r(E2, 1)
off3d = r(F3b, 1)-r(E3, 1)
off4d = r(F9a, 1)-r(E4, 1)
off5d = r(F8a, 1)-r(E5, 1)
off6d = r(F9a, 1)-r(E6, 1)
off7d = r(F2a, 1)-r(E7, 1)-N+4
off8d = r(F4b, 1)-r(E8, 1)

off1b = r(F1x, 1)-r(E1, 1)
off2b = r(F2a, 1)-r(E2, 1)-1
off3b = r(F2a, 1)-r(E3, 1)
off4b = r(F2a, 1)-r(E4, 1)
off5b = r(F6x, 1)-r(E5, 1)
off6b = r(F7x, 1)-r(E6, 1)
off7b = r(F8a, 1)-r(E7, 1)
off8b = r(F8a, 1)-r(E8, 1)

V %= {[1:1:F1x], [F1x+1:1:F2a], [F2a+1:1:F3b], [F3b+1:1:F4b], [F4b+1:1:F5b], [F5b+1:1:F6x]
  , [F6x+1:1:F7x], [F7x+1:1:F8a], [F8a+1:1:F9a]};
Vmap %= <<{[1:1:F1x]} -> 0*x+1, {[F1x+1:1:F2a]} -> 0*x+2, {[F2a+1:1:F3b]} -> 0*x+3
  , {[F3b+1:1:F4b]} -> 0*x+4, {[F4b+1:1:F5b]} -> 0*x+5, {[F5b+1:1:F6x]} -> 0*x+6
  , {[F6x+1:1:F7x]}-> 0*x+7, {[F7x+1:1:F8a]} -> 0*x+8, {[F8a+1:1:F9a]} -> 0*x+9>>;
mapB %= <<{[1:1:E1]} -> 1*x+off1b, {[E1+1:1:E2]} -> 1*x+off2b, {[E2+1:1:E3]} -> 1*x+off3b
  , {[E3+1:1:E4]} -> 1*x+off4b, {[E4+1:1:E5]} -> 1*x+off5b, {[E5+1:1:E6]} -> 1*x+off6b
  , {[E6+1:1:E7]} -> 1*x+off7b, {[E7+1:1:E8]} -> 1*x+off8b>>;
mapD %= <<{[1:1:E1]} -> 1*x+off1d, {[E1+1:1:E2]} -> 1*x+off2d, {[E2+1:1:E3]} -> 1*x+off3d
  , {[E3+1:1:E4]} -> 1*x+off4d, {[E4+1:1:E5]} -> 1*x+off5d, {[E5+1:1:E6]} -> 1*x+off6d
  , {[E6+1:1:E7]} -> 1*x+off7d, {[E7+1:1:E8]} -> 1*x+off8d>>;
Emap %= <<{[1:1:E1]} -> 0*x+1, {[E1+1:1:E2]} -> 0*x+2, {[E2+1:1:E3]} -> 0*x+3
  , {[E3+1:1:E4]} -> 0*x+4, {[E4+1:1:E5]} -> 0*x+5, {[E5+1:1:E6]} -> 0*x+6
  , {[E6+1:1:E7]} -> 0*x+7, {[E7+1:1:E8]} -> 0*x+8>>;

scc(
V %= {[1:1:F1x], [F1x+1:1:F2a], [F2a+1:1:F3b], [F3b+1:1:F4b], [F4b+1:1:F5b], [F5b+1:1:F6x]
  , [F6x+1:1:F7x], [F7x+1:1:F8a], [F8a+1:1:F9a]};
Vmap %= <<{[1:1:F1x]} -> 0*x+1, {[F1x+1:1:F2a]} -> 0*x+2, {[F2a+1:1:F3b]} -> 0*x+3
  , {[F3b+1:1:F4b]} -> 0*x+4, {[F4b+1:1:F5b]} -> 0*x+5, {[F5b+1:1:F6x]} -> 0*x+6
  , {[F6x+1:1:F7x]}-> 0*x+7, {[F7x+1:1:F8a]} -> 0*x+8, {[F8a+1:1:F9a]} -> 0*x+9>>;
mapB %= <<{[1:1:E1]} -> 1*x+off1b, {[E1+1:1:E2]} -> 1*x+off2b, {[E2+1:1:E3]} -> 1*x+off3b
  , {[E3+1:1:E4]} -> 1*x+off4b, {[E4+1:1:E5]} -> 1*x+off5b, {[E5+1:1:E6]} -> 1*x+off6b
  , {[E6+1:1:E7]} -> 1*x+off7b, {[E7+1:1:E8]} -> 1*x+off8b>>;
mapD %= <<{[1:1:E1]} -> 1*x+off1d, {[E1+1:1:E2]} -> 1*x+off2d, {[E2+1:1:E3]} -> 1*x+off3d
  , {[E3+1:1:E4]} -> 1*x+off4d, {[E4+1:1:E5]} -> 1*x+off5d, {[E5+1:1:E6]} -> 1*x+off6d
  , {[E6+1:1:E7]} -> 1*x+off7d, {[E7+1:1:E8]} -> 1*x+off8d>>;
Emap %= <<{[1:1:E1]} -> 0*x+1, {[E1+1:1:E2]} -> 0*x+2, {[E2+1:1:E3]} -> 0*x+3
  , {[E3+1:1:E4]} -> 0*x+4, {[E4+1:1:E5]} -> 0*x+5, {[E5+1:1:E6]} -> 0*x+6
  , {[E6+1:1:E7]} -> 0*x+7, {[E7+1:1:E8]} -> 0*x+8>>;
)
